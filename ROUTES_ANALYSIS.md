# üì° –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ API –º–∞—Ä—à—Ä—É—Ç–æ–≤ XUI Manager

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-12-05
**–í–µ—Ä—Å–∏—è:** 2.3.5
**–í—Å–µ–≥–æ endpoints:** 153+

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **GET endpoints:** ~70
- **POST endpoints:** ~60
- **PUT endpoints:** ~15
- **DELETE endpoints:** ~8

---

## üóÇÔ∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

### 1. üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Authentication)
**–ü—É—Ç—å:** `/api/auth/*`

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/auth/login` | POST | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É |
| `/api/auth/logout` | POST | –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 2. üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (Users Management)
**–ü—É—Ç—å:** `/api/users/*`
**–í—Å–µ–≥–æ endpoints:** 22

#### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/users` | GET | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `/api/users/{user_id}` | GET | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID |
| `/api/users/{user_id}` | PUT | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/api/users/{user_id}` | DELETE | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/api/users/by-email/{email}` | GET | –ù–∞–π—Ç–∏ –ø–æ email |

#### –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
|----------|-------|----------|----------------------|
| `/api/users/bulk-create` | POST | –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/bulk-create-all-inbounds` | POST | –°–æ–∑–¥–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö inbound | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/bulk-delete` | POST | –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/extend-expiry` | POST | **–ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ (–ú–ê–°–°–û–í–û–ï)** | üî• **–ö–†–ò–¢–ò–ß–ù–û** |
| `/api/users/set-expiry` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ä–æ–∫ | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/set-limit` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/add-traffic` | POST | –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/reset-traffic` | POST | –°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/toggle-status` | POST | –í–∫–ª/–í—ã–∫–ª —Å—Ç–∞—Ç—É—Å | ‚ö° –í—ã—Å–æ–∫–∏–π |
| `/api/users/regenerate-keys` | POST | –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π | –°—Ä–µ–¥–Ω–∏–π |

#### –§–∏–ª—å—Ç—Ä—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/users/expired` | GET | –ò—Å—Ç–µ–∫—à–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |
| `/api/users/disabled` | GET | –û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |
| `/api/users/low-traffic` | GET | –° –Ω–∏–∑–∫–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º |
| `/api/users/unlimited` | GET | –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ |
| `/api/users/expired/cleanup` | POST | –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö |

#### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/users/{user_id}/toggle` | POST | –í–∫–ª/–í—ã–∫–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/api/users/{user_id}/expiry` | PUT | –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ä–æ–∫ |
| `/api/users/{user_id}/traffic` | PUT | –ò–∑–º–µ–Ω–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ |
| `/api/users/{email}/ips` | GET | IP –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/api/users/{email}/clear-ips` | POST | –û—á–∏—Å—Ç–∏—Ç—å IP |

**–ü—Ä–æ–±–ª–µ–º—ã:**
- üêå **–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –º–∞—Å—Å–æ–≤–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ** - –Ω–µ—Ç –±–∞—Ç—á–∏–Ω–≥–∞
- üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (toggle-status vs {user_id}/toggle)
- üìä –ù–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

---

### 3. üì° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Inbounds
**–ü—É—Ç—å:** `/api/inbounds/*`
**–í—Å–µ–≥–æ endpoints:** 17

#### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/inbounds` | GET | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö inbound |
| `/api/inbounds/{id}` | GET | –ü–æ–ª—É—á–∏—Ç—å inbound |
| `/api/inbounds/{id}` | PUT | –û–±–Ω–æ–≤–∏—Ç—å inbound |
| `/api/inbounds/{id}` | DELETE | –£–¥–∞–ª–∏—Ç—å inbound |
| `/api/inbounds/{id}/full` | GET | –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |
| `/api/inbounds/{id}/toggle` | POST | –í–∫–ª/–í—ã–∫–ª inbound |
| `/api/inbounds/{id}/clone` | POST | –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å |

#### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/inbounds/{id}/port` | PUT | –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç |
| `/api/inbounds/{id}/reality` | PUT | –û–±–Ω–æ–≤–∏—Ç—å Reality –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `/api/inbounds/{id}/sniffing` | PUT | –û–±–Ω–æ–≤–∏—Ç—å sniffing |
| `/api/inbounds/fingerprints` | GET | –°–ø–∏—Å–æ–∫ fingerprints |
| `/api/inbounds/fingerprints/update` | POST | –û–±–Ω–æ–≤–∏—Ç—å fingerprints |
| `/api/inbounds/apply-sni` | POST | –ü—Ä–∏–º–µ–Ω–∏—Ç—å SNI |
| `/api/inbounds/{id}/reset-all-traffic` | POST | –°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –≤—Å–µ—Ö —é–∑–µ—Ä–æ–≤ |
| `/api/inbounds/{id}/delete-depleted` | POST | –£–¥–∞–ª–∏—Ç—å –∏–∑—Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–Ω—ã—Ö |
| `/api/inbounds/import` | POST | –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `/api/inbounds/{id}/export` | GET | –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –•–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ

---

### 4. üìã –®–∞–±–ª–æ–Ω—ã Inbound (Preset Templates)
**–ü—É—Ç—å:** `/api/preset-templates/*`

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/preset-templates` | GET | –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ |
| `/api/preset-templates/{id}` | GET | –î–µ—Ç–∞–ª–∏ —à–∞–±–ª–æ–Ω–∞ |
| `/api/preset-templates/{id}/preview` | GET | –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä |
| `/api/preset-templates/{id}/apply` | POST | –ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û—Ç–ª–∏—á–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ

---

### 5. üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã (Generators)
**–ü—É—Ç—å:** `/api/generator/*`
**–í—Å–µ–≥–æ endpoints:** 12

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/generator/uuid` | GET | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UUID |
| `/api/generator/password` | GET | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è |
| `/api/generator/x25519` | POST | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è X25519 –∫–ª—é—á–µ–π |
| `/api/generator/short-id` | GET | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Short ID |
| `/api/generator/credentials` | GET | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| `/api/generator/ss-password` | GET | –ü–∞—Ä–æ–ª—å ShadowSocks |
| `/api/generator/available-port` | GET | –°–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç |
| `/api/generator/fingerprints` | GET | –°–ø–∏—Å–æ–∫ fingerprints |
| `/api/generator/sni-targets` | GET | SNI —Ü–µ–ª–∏ |
| `/api/generator/inbound` | GET | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è inbound |
| `/api/generator/inbound-types` | GET | –¢–∏–ø—ã inbound |
| `/api/generator/vless-reality` | POST | VLESS Reality –∫–æ–Ω—Ñ–∏–≥ |

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- üîó –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å `/api/keys/generate` (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

### 6. üõ°Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª—å—é 3x-ui
**–ü—É—Ç—å:** `/api/panel/*`
**–í—Å–µ–≥–æ endpoints:** 11

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/panel/status` | GET | –°—Ç–∞—Ç—É—Å –ø–∞–Ω–µ–ª–∏ |
| `/api/panel/credentials` | GET | –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| `/api/panel/reset-credentials` | POST | –°–±—Ä–æ—Å —É—á—ë—Ç–æ–∫ |
| `/api/panel/port` | PUT | –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç |
| `/api/panel/path` | PUT | –ò–∑–º–µ–Ω–∏—Ç—å –ø—É—Ç—å |
| `/api/panel/settings` | PUT | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–Ω–µ–ª–∏ |
| `/api/panel/backup` | POST | –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø |
| `/api/panel/backups` | GET | –°–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤ |
| `/api/panel/restore` | POST | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—ç–∫–∞–ø |
| `/api/panel/forks` | GET | –°–ø–∏—Å–æ–∫ —Ñ–æ—Ä–∫–æ–≤ 3x-ui |
| `/api/panel/reinstall` | POST | –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–Ω–µ–ª–∏ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –•–æ—Ä–æ—à–æ

---

### 7. üåê Nginx —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
**–ü—É—Ç—å:** `/api/nginx/*`
**–í—Å–µ–≥–æ endpoints:** 7

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/nginx/status` | GET | –°—Ç–∞—Ç—É—Å Nginx |
| `/api/nginx/config` | GET | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| `/api/nginx/test` | POST | –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `/api/nginx/reload` | POST | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ |
| `/api/nginx/analyze` | GET | –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ |
| `/api/nginx/inbound-requirements` | GET | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è inbound |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –•–æ—Ä–æ—à–æ

---

### 8. üîê SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
**–ü—É—Ç—å:** `/api/ssl/*`
**–í—Å–µ–≥–æ endpoints:** 8

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/ssl/status` | GET | –°—Ç–∞—Ç—É—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ |
| `/api/ssl/domains` | GET | –°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ |
| `/api/ssl/domain` | POST | –î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω |
| `/api/ssl/domain` | DELETE | –£–¥–∞–ª–∏—Ç—å –¥–æ–º–µ–Ω |
| `/api/ssl/3xui-domains` | GET | –î–æ–º–µ–Ω—ã 3x-ui |
| `/api/ssl/update-3xui` | POST | –û–±–Ω–æ–≤–∏—Ç—å SSL –¥–ª—è 3x-ui |
| `/api/ssl/renew` | POST | –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã |
| `/api/ssl/restart-services` | POST | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –•–æ—Ä–æ—à–æ

---

### 9. üé≠ –ö–∞–º—É—Ñ–ª—è–∂ (Camouflage)
**–ü—É—Ç—å:** `/api/camouflage/*`
**–í—Å–µ–≥–æ endpoints:** 9

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/camouflage/current` | GET | –¢–µ–∫—É—â–∏–π —à–∞–±–ª–æ–Ω |
| `/api/camouflage/templates` | GET | –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ |
| `/api/camouflage/templates/{id}` | GET | –î–µ—Ç–∞–ª–∏ —à–∞–±–ª–æ–Ω–∞ |
| `/api/camouflage/categories` | GET | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `/api/camouflage/preview/{id}` | GET | –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä |
| `/api/camouflage/install` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω |
| `/api/camouflage/install-custom` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π |
| `/api/camouflage/install-random` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π |
| `/api/camouflage/remove` | POST | –£–¥–∞–ª–∏—Ç—å |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

### 10. ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
**–ü—É—Ç—å:** `/api/system/*`
**–í—Å–µ–≥–æ endpoints:** 28

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/system/update/check` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π |
| `/api/system/update` | POST | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã |
| `/api/system/update/status` | GET | –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| `/api/system/rollback` | POST | –û—Ç–∫–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| `/api/system/update-3xui` | POST | –û–±–Ω–æ–≤–∏—Ç—å 3x-ui |
| `/api/system/update-dat` | POST | –û–±–Ω–æ–≤–∏—Ç—å .dat —Ñ–∞–π–ª—ã |
| `/api/system/install-xray` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Xray |
| `/api/system/xray/update` | POST | –û–±–Ω–æ–≤–∏—Ç—å Xray |
| `/api/system/xray/version` | GET | –í–µ—Ä—Å–∏—è Xray |
| `/api/system/xray-versions` | GET | –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ |

#### –°–µ—Ä–≤–∏—Å—ã
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/system/xui/status` | GET | –°—Ç–∞—Ç—É—Å x-ui |
| `/api/system/xui/start` | POST | –ó–∞–ø—É—Å—Ç–∏—Ç—å x-ui |
| `/api/system/xui/stop` | POST | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å x-ui |
| `/api/system/xui/restart` | POST | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å x-ui |
| `/api/system/restart-xui` | POST | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ x-ui (–¥—É–±–ª–∏–∫–∞—Ç) |

#### –ë—ç–∫–∞–ø—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/system/backup` | POST | –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø |
| `/api/system/backups` | GET | –°–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤ |
| `/api/system/backups/{name}` | DELETE | –£–¥–∞–ª–∏—Ç—å –±—ç–∫–∞–ø |
| `/api/system/optimization/check` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| `/api/system/optimization/install-all` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë |
| `/api/system/optimization/install-bbr` | POST | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å BBR |
| `/api/system/optimization/tcp` | POST | TCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |

#### –†–∞–∑–Ω–æ–µ
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/system/logs` | GET | –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ |
| `/api/system/version` | GET | –í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã |
| `/api/system/releases` | GET | –†–µ–ª–∏–∑—ã |
| `/api/system/background-tasks` | GET | –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ |
| `/api/system/reset-all-traffic` | POST | –°–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ |

**–ü—Ä–æ–±–ª–µ–º—ã:**
- üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints (`restart-xui` vs `xui/restart`)
- üì¶ –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤ –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

### 11. üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
**–ü—É—Ç—å:** `/api/monitoring/*`, `/api/analytics/*`

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/monitoring/health` | GET | –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã |
| `/api/monitoring/online-users` | GET | –û–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |
| `/api/monitoring/last-online` | GET | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–Ω–ª–∞–π–Ω |

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/analytics/traffic` | GET | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ |
| `/api/analytics/users` | GET | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `/api/analytics/expiry-status` | GET | –°—Ç–∞—Ç—É—Å –∏—Å—Ç–µ—á–µ–Ω–∏–π |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –•–æ—Ä–æ—à–æ

---

### 12. üåç –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
**–ü—É—Ç—å:** `/api/regions/*`, `/api/sites/*`, `/api/sni/*`

#### –†–µ–≥–∏–æ–Ω—ã
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/regions` | GET | –°–ø–∏—Å–æ–∫ —Ä–µ–≥–∏–æ–Ω–æ–≤ |
| `/api/regions/detect` | GET | –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–≥–∏–æ–Ω |
| `/api/regions/{region}/domains` | GET | –î–æ–º–µ–Ω—ã —Ä–µ–≥–∏–æ–Ω–∞ |
| `/api/regions/{region}/routing` | GET | –†–æ—É—Ç–∏–Ω–≥ —Ä–µ–≥–∏–æ–Ω–∞ |

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–æ–≤
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/sites/check` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–æ–≤ |
| `/api/sites/check/{region}` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω—É |
| `/api/sites/whitelist` | GET | –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ |

#### SNI —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/sni/discover` | GET | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ SNI |
| `/api/sni/scan` | GET | –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ SNI |
| `/api/sni/test` | POST | –¢–µ—Å—Ç SNI |
| `/api/sni/suggestions` | GET | –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è SNI |
| `/api/sni/saved` | GET | –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ SNI |
| `/api/sni/save` | POST | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å SNI |
| `/api/sni/saved/{domain}` | DELETE | –£–¥–∞–ª–∏—Ç—å SNI |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û—Ç–ª–∏—á–Ω–æ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

---

### 13. üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
**–ü—É—Ç—å:** `/api/sync/*`

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/sync/stats` | GET | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ |
| `/api/sync/by-uuid` | POST | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ UUID |
| `/api/sync/by-uuid/expiry` | PUT | –û–±–Ω–æ–≤–∏—Ç—å —Å—Ä–æ–∫ –ø–æ UUID |
| `/api/sync/bulk/expiry` | PUT | –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ |
| `/api/sync/user/{chat_id}` | GET | –ü–æ–ª—É—á–∏—Ç—å –ø–æ Telegram ID |
| `/api/sync/user/{chat_id}/enable` | POST | –í–∫–ª—é—á–∏—Ç—å –ø–æ Telegram ID |
| `/api/sync/user/{chat_id}/expiry` | PUT | –°—Ä–æ–∫ –ø–æ Telegram ID |
| `/api/sync/from-external` | POST | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è Telegram –±–æ—Ç–∞

---

### 14. ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
**–ü—É—Ç—å:** `/api/automation/*`

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/automation/status` | GET | –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ |
| `/api/automation/settings` | GET/PUT | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `/api/automation/services` | GET | –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ |
| `/api/automation/service/{service}/restart` | POST | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ |
| `/api/automation/backup/create` | POST | –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø |
| `/api/automation/backups` | GET | –°–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤ |
| `/api/automation/backup/{name}` | DELETE | –£–¥–∞–ª–∏—Ç—å –±—ç–∫–∞–ø |
| `/api/automation/backup/restore/{name}` | POST | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å |
| `/api/automation/ssl/check` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL |
| `/api/automation/ssl/renew` | POST | –û–±–Ω–æ–≤–∏—Ç—å SSL |
| `/api/automation/warp/status` | GET | –°—Ç–∞—Ç—É—Å WARP |
| `/api/automation/warp/restart` | POST | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ WARP |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û—Ç–ª–∏—á–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

### 15. üí¨ Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–ü—É—Ç—å:** `/api/telegram/*`

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/telegram/status` | GET | –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ |
| `/api/telegram/test` | POST | –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ |

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

---

### 16. üé´ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
**–ü—É—Ç—å:** `/api/tokens/*`

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/tokens` | GET | –°–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ |
| `/api/tokens/generate` | POST | –°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω |
| `/api/tokens/{token}` | GET | –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω |
| `/api/tokens/{token}/revoke` | POST | –û—Ç–æ–∑–≤–∞—Ç—å —Ç–æ–∫–µ–Ω |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –•–æ—Ä–æ—à–æ

---

### 17. üìã –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
**–ü—É—Ç—å:** `/api/queues/*`

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/queues` | GET | –°–ø–∏—Å–æ–∫ –æ—á–µ—Ä–µ–¥–µ–π |
| `/api/queues/bulk-create` | POST | –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ |
| `/api/queues/{id}` | GET | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É |
| `/api/queues/{id}/cancel` | POST | –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –•–æ—Ä–æ—à–æ –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

### 18. üõ†Ô∏è –†–∞–∑–Ω–æ–µ (Miscellaneous)
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–∞—Ç–µ–≥–æ—Ä–∏—è |
|----------|-------|----------|-----------|
| `/` | GET | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | Frontend |
| `/login` | GET | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ | Frontend |
| `/favicon.ico` | GET | –ò–∫–æ–Ω–∫–∞ | Frontend |
| `/api/health` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è | Health |
| `/api/health/detailed` | GET | –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ | Health |
| `/api/health/server` | GET | –ó–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–µ—Ä–∞ | Health |
| `/api/health/xui-panel` | GET | –ó–¥–æ—Ä–æ–≤—å–µ –ø–∞–Ω–µ–ª–∏ | Health |
| `/api/version` | GET | –í–µ—Ä—Å–∏—è API | Info |
| `/api/stats` | GET | –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | Info |
| `/api/templates` | GET | –®–∞–±–ª–æ–Ω—ã | Templates |
| `/api/keys/generate` | POST | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π | Generators |
| `/api/protocols/check` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ | Diagnostics |
| `/api/xui/check` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ x-ui | Diagnostics |
| `/api/xui/install` | POST | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ x-ui | Setup |
| `/api/server/info` | GET | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ | Server |
| `/api/server/cpu-history/{bucket}` | GET | –ò—Å—Ç–æ—Ä–∏—è CPU | Server |
| `/api/server/logs` | GET | –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ | Server |
| `/api/server/speedtest` | POST | –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ | Server |
| `/api/server/xray-config` | GET | –ö–æ–Ω—Ñ–∏–≥ Xray | Server |
| `/api/server/xray-logs` | GET | –õ–æ–≥–∏ Xray | Server |
| `/api/server/panel-status` | GET | –°—Ç–∞—Ç—É—Å –ø–∞–Ω–µ–ª–∏ | Server |
| `/api/server/update-geo` | POST | –û–±–Ω–æ–≤–∏—Ç—å GeoIP | Server |
| `/api/server/generate-uuid` | GET | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UUID | Server |
| `/api/server/generate-x25519` | POST | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è X25519 | Server |

---

## üöÄ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. üî• –ö–†–ò–¢–ò–ß–ù–û: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –º–∞—Å—Å–æ–≤–æ–≥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –ø–æ –æ–¥–Ω–æ–º—É.

**–†–µ—à–µ–Ω–∏–µ:**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ë–∞—Ç—á–∏–Ω–≥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```python
@app.post("/api/users/extend-expiry-batch")
async def extend_expiry_batch(
    user_ids: List[int],
    days: int,
    batch_size: int = 100,
    username: str = Depends(get_current_user)
):
    """
    –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –±–∞—Ç—á–∏–Ω–≥–æ–º

    - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ batch_size –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ —Ä–∞–∑
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
    - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
    """
    total = len(user_ids)
    processed = 0
    failed = []

    for i in range(0, total, batch_size):
        batch = user_ids[i:i+batch_size]
        try:
            # –û–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–ª—è –≤—Å–µ–π –ø–∞—Ä—Ç–∏–∏
            db.extend_expiry_batch(batch, days)
            processed += len(batch)
        except Exception as e:
            failed.extend(batch)

    return {
        "success": True,
        "total": total,
        "processed": processed,
        "failed": len(failed),
        "failed_ids": failed
    }
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ —Å WebSocket –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
```python
@app.post("/api/users/extend-expiry-async")
async def extend_expiry_async(
    user_ids: List[int],
    days: int,
    username: str = Depends(get_current_user)
):
    """–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—Å—Å–æ–≤–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –≤ —Ñ–æ–Ω–µ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º —á–µ—Ä–µ–∑ WebSocket"""
    task_id = queue_manager.add_task({
        "type": "bulk_extend_expiry",
        "user_ids": user_ids,
        "days": days
    })

    return {
        "success": True,
        "task_id": task_id,
        "websocket_url": f"/ws/tasks/{task_id}"
    }
```

**–û—Ü–µ–Ω–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è:**
- –¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: ~10-20 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/—Å–µ–∫
- –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: **500-1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/—Å–µ–∫** (50x –±—ã—Å—Ç—Ä–µ–µ)

---

### 2. üìö –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
- –ù–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- –¢—Ä—É–¥–Ω–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é

#### –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
üìä –î–ê–®–ë–û–†–î
‚îú‚îÄ‚îÄ –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ –û–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îî‚îÄ‚îÄ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

üë• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò
‚îú‚îÄ‚îÄ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îú‚îÄ‚îÄ üî• –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚ö°
‚îÇ   ‚îú‚îÄ‚îÄ –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ –°–±—Ä–æ—Å —Ç—Ä–∞—Ñ–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ –§–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ –ò—Å—Ç–µ–∫—à–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ –û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ –° –Ω–∏–∑–∫–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ
‚îî‚îÄ‚îÄ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

üì° INBOUNDS
‚îú‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ Inbound (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥)
‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞—Ç—å –∏–∑ —à–∞–±–ª–æ–Ω–∞
‚îú‚îÄ‚îÄ –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–∏—Ç—å fingerprints
‚îÇ   ‚îú‚îÄ‚îÄ –ü—Ä–∏–º–µ–Ω–∏—Ç—å SNI
‚îÇ   ‚îî‚îÄ‚îÄ –°–±—Ä–æ—Å —Ç—Ä–∞—Ñ–∏–∫–∞
‚îî‚îÄ‚îÄ –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç

üõ°Ô∏è –ü–ê–ù–ï–õ–¨ X-UI
‚îú‚îÄ‚îÄ –°—Ç–∞—Ç—É—Å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ –ë—ç–∫–∞–ø—ã

üåê –°–ï–¢–¨
‚îú‚îÄ‚îÄ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îú‚îÄ‚îÄ –ö–∞–º—É—Ñ–ª—è–∂ —Å–∞–π—Ç–∞
‚îî‚îÄ‚îÄ –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

‚öôÔ∏è –°–ò–°–¢–ï–ú–ê
‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ XUI Manager
‚îÇ   ‚îú‚îÄ‚îÄ 3x-ui Panel
‚îÇ   ‚îú‚îÄ‚îÄ Xray Core
‚îÇ   ‚îî‚îÄ‚îÄ GeoIP –±–∞–∑—ã
‚îú‚îÄ‚îÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ BBR
‚îÇ   ‚îú‚îÄ‚îÄ TCP
‚îÇ   ‚îî‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞
‚îú‚îÄ‚îÄ –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ X-UI
‚îÇ   ‚îú‚îÄ‚îÄ Nginx
‚îÇ   ‚îî‚îÄ‚îÄ WARP
‚îî‚îÄ‚îÄ –ë—ç–∫–∞–ø—ã

üîß –ò–ù–°–¢–†–£–ú–ï–ù–¢–´
‚îú‚îÄ‚îÄ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ UUID
‚îÇ   ‚îú‚îÄ‚îÄ X25519 –∫–ª—é—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ Short ID
‚îÇ   ‚îî‚îÄ‚îÄ –ü–∞—Ä–æ–ª–∏
‚îú‚îÄ‚îÄ SNI Discovery
‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–æ–≤
‚îî‚îÄ‚îÄ –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏

ü§ñ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø
‚îú‚îÄ‚îÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
‚îî‚îÄ‚îÄ –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏

üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
‚îú‚îÄ‚îÄ API —Ç–æ–∫–µ–Ω—ã
‚îú‚îÄ‚îÄ –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞
‚îî‚îÄ‚îÄ –ê—É–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–π
```

---

### 3. üé® –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### A. –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏" (–Ω–æ–≤–∞—è)

–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å:

```html
<!-- –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ -->
<div class="bulk-operations-page">
    <h2>‚ö° –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>

    <!-- –§–∏–ª—å—Ç—Ä—ã –≤—ã–±–æ—Ä–∞ -->
    <div class="selection-filters">
        <button onclick="selectAll()">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ—Ö</button>
        <button onclick="selectExpired()">–í—ã–±—Ä–∞—Ç—å –∏—Å—Ç–µ–∫—à–∏—Ö</button>
        <button onclick="selectDisabled()">–í—ã–±—Ä–∞—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö</button>
        <button onclick="selectCustom()">–§–∏–ª—å—Ç—Ä</button>

        <div class="selected-count">
            –í—ã–±—Ä–∞–Ω–æ: <strong id="selected-count">0</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        </div>
    </div>

    <!-- –û–ø–µ—Ä–∞—Ü–∏–∏ -->
    <div class="bulk-actions">
        <div class="action-card">
            <h3>üìÖ –ü—Ä–æ–¥–ª–∏—Ç—å —Å—Ä–æ–∫</h3>
            <input type="number" placeholder="–î–Ω–µ–π" id="extend-days">
            <button onclick="bulkExtendExpiry()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <div class="estimate">
                –û—Ü–µ–Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è: <span id="extend-estimate">~5 —Å–µ–∫</span>
            </div>
        </div>

        <div class="action-card">
            <h3>üìä –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫</h3>
            <input type="number" placeholder="GB" id="add-traffic">
            <button onclick="bulkAddTraffic()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>

        <div class="action-card">
            <h3>üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫</h3>
            <button onclick="bulkResetTraffic()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>

        <div class="action-card">
            <h3>‚èØÔ∏è –í–∫–ª/–í—ã–∫–ª</h3>
            <button onclick="bulkToggle(true)">–í–∫–ª—é—á–∏—Ç—å</button>
            <button onclick="bulkToggle(false)">–í—ã–∫–ª—é—á–∏—Ç—å</button>
        </div>
    </div>

    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
    <div class="progress-section" style="display: none;" id="progress-section">
        <h3>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏...</h3>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-text">
            <span id="progress-current">0</span> / <span id="progress-total">0</span>
            (<span id="progress-percent">0</span>%)
        </div>
        <div class="progress-speed">
            –°–∫–æ—Ä–æ—Å—Ç—å: <span id="progress-speed">0</span> —é–∑–µ—Ä–æ–≤/—Å–µ–∫
        </div>
    </div>
</div>
```

#### B. Dashboard —Å –≤–∏–¥–∂–µ—Ç–∞–º–∏

```html
<div class="dashboard-grid">
    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div class="widget quick-actions">
        <h3>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
        <button onclick="goToBulkOperations()">–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</button>
        <button onclick="createInbound()">–°–æ–∑–¥–∞—Ç—å Inbound</button>
        <button onclick="renewSSL()">–û–±–Ω–æ–≤–∏—Ç—å SSL</button>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="widget stats">
        <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
        <div class="stat-item">
            <span>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</span>
            <strong id="total-users">-</strong>
        </div>
        <div class="stat-item">
            <span>–û–Ω–ª–∞–π–Ω:</span>
            <strong id="online-users">-</strong>
        </div>
        <div class="stat-item">
            <span>–ò—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π:</span>
            <strong id="expiring-soon">-</strong>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="widget notifications">
        <h3>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
        <div class="notification warning">
            ‚ö†Ô∏è 15 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 3 –¥–Ω—è
        </div>
        <div class="notification info">
            ‚ÑπÔ∏è –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ XUI Manager 2.3.6
        </div>
    </div>
</div>
```

---

### 4. üîÑ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

#### Endpoints –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:

| –°—Ç–∞—Ä—ã–µ endpoints | –ù–æ–≤—ã–π unified endpoint | –î–µ–π—Å—Ç–≤–∏–µ |
|-----------------|------------------------|----------|
| `/api/system/restart-xui`<br>`/api/system/xui/restart` | `/api/system/services/xui/restart` | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å |
| `/api/generator/x25519`<br>`/api/server/generate-x25519` | `/api/generator/x25519` | –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç |
| `/api/generator/uuid`<br>`/api/server/generate-uuid` | `/api/generator/uuid` | –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç |
| `/api/users/{user_id}/toggle`<br>`/api/users/toggle-status` | `/api/users/toggle` (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ ID) | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å |

---

### 5. üìä –î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é

Endpoints, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è:

```python
@app.get("/api/users")
async def get_users(
    page: int = 1,
    per_page: int = 50,
    sort_by: str = "created_at",
    order: str = "desc",
    filter_status: Optional[str] = None,
    search: Optional[str] = None,
    username: str = Depends(get_current_user)
):
    """
    –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - page: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞—á–∏–Ω–∞—è —Å 1)
    - per_page: –ö–æ–ª-–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (10-500)
    - sort_by: –ü–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    - order: asc/desc
    - filter_status: active/disabled/expired
    - search: –ü–æ–∏—Å–∫ –ø–æ email/–∏–º–µ–Ω–∏
    """
    offset = (page - 1) * per_page
    users, total = db.get_users_paginated(
        offset=offset,
        limit=per_page,
        sort_by=sort_by,
        order=order,
        filter_status=filter_status,
        search=search
    )

    return {
        "users": users,
        "pagination": {
            "page": page,
            "per_page": per_page,
            "total": total,
            "total_pages": (total + per_page - 1) // per_page,
            "has_next": page * per_page < total,
            "has_prev": page > 1
        }
    }
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. üî• **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–æ–≤–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ** - –±–∞—Ç—á–∏–Ω–≥ + —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
2. üìö **–†–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
3. ‚ö° **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"** - –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í—ã—Å–æ–∫–∏–π):
4. üìä **–î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é** - –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
5. üîÑ **–£—Å—Ç—Ä–∞–Ω–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints**
6. üé® **–£–ª—É—á—à–∏—Ç—å Dashboard** - –≤–∏–¥–∂–µ—Ç—ã –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–°—Ä–µ–¥–Ω–∏–π):
7. üìà **–î–æ–±–∞–≤–∏—Ç—å WebSocket –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
8. üîç **–£–ª—É—á—à–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
9. üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É `feature/bulk-operations-optimization`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞—Ç—á–∏–Ω–≥ –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª UI –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (1000+)
5. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** Claude Code
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
